<!DOCTYPE html>
<html lang="es">
<head>
	<title>Objeto Factura - JavaScript_005</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="javascript_005.css">
    <style>
    	ul {
    		list-style: none;
    	}
    	li.elementos {
    		display:inline-block;
    		width:100px;
    	}
    </style>
	<script type="text/javascript">

		
		// Métodos de cálculo del total y de visualización del total

		
		function Factura (nombreCli, direccionCli, tfnoCli, nifCli) {
			this.empresa.nombre = "La Empresa";
			this.empresa.direccion = "c/ La calle";
			this.empresa.telefono = "900900900";
			this.empresa.nif = "XXXXXXXXX";
		    this.cliente.nombre = nombreCli;
			this.cliente.direccion = direccionCli;
			this.cliente.telefono = tfnoCli;
			this.cliente.nif = nifCli;
			this.elementos = [this.elementos.descripcion, 
						 	  this.elementos.producto,
						 	  this.elementos.precio];
			informacion.baseImponible = 0;
			informacion.iva = 1.16;
			informacion.total = "";
			informacion.formaPago = "contado";
		
			desc = desc;
			this.codigo = cod;
			this.valor = precio;
			this.iva = iva;
			this.pvp = total;
			}	
			

		// Métodos de cálculo del total y de visualización del total

		factura.calculaTotal = function() {
			for (var i = 0; i < this.elementos.length; i++) {
				this.informacion.baseImponible += this.elementos[i].cantidad * this.elementos[i].precio;
			}
			this.informacion.total = this.informacion.baseImponible * this.informacion.iva;
		};
			
//			factura.muestraTotal = function() {
//				this.calculaTotal();
//				alert("TOTAL = " + this.informacion.total + " euros");
//			};
			
		factura.muestraDatos = function (){
			this.calculaTotal();
			document.write("<p><b>Datos Empresa</b></p>");
			document.write("<ul>");
			document.write("<li>Nombre: " + this.empresa.nombre+"</li>");
			document.write("<li>Direccion: " + this.empresa.direccion+"</li>");
			document.write("<li>Telefono: "+ this.empresa.telefono+"</li>");
			document.write("<li>Nif: "+ this.empresa.nif+"</li>");
			document.write("</ul>");
			
			document.write("<p><b>Datos Cliente</b></p>");
			document.write("<ul>");
			document.write("<li>Nombre: " + this.cliente.nombre+"</li>");
			document.write("<li>Direccion: " + this.cliente.direccion+"</li>");
			document.write("<li>Telefono: " + this.cliente.telefono+"</li>");
			document.write("<li>Nif: " + this.cliente.nif+"</li>");
			document.write("</ul>");
			
			document.write("<p><b>Lista de elementos</b></p>");
			document.write("<ul class=elementos>");
			document.write("<li class=elementos>Descripcion</li>");
			document.write("<li class=elementos>Cantidad</li>");
			document.write("<li class=elementos>Precio</li>");
			document.write("</ul>");				
			for(var i=0; i<this.elementos.length; i++){
				document.write("<ul class=elementos>");
				document.write("<li class=elementos>" + this.elementos[i].descripcion+"</li>");
				document.write("<li class=elementos>" + this.elementos[i].cantidad+"</li>");
				document.write("<li class=elementos>" +  this.elementos[i].precio+"</li>");
				document.write("</ul>");		
			};
			document.write("<p><b>Total a pagar</b></p>");
			document.write("<ul>");
			document.write("<li>Importe Total: " + this.informacion.total+"</li>");
			document.write("<li>Iva: "+ this.informacion.iva+"</li>");
			document.write("<li>Pago: "+ this.informacion.formaPago+"</li>");
			document.write("</ul>");
		};			

		var factura_01 = new Factura ("Nombre del cliente", 
									"Dirección del cliente",
									"600600600",
									"XXXXXXXXX");

		factura_01.elementos[0] = 
			{ descripcion: "Producto 1", cantidad: 120, precio: 4 };
		factura_01.elementos[0] =
			{ descripcion: "Producto 2", cantidad: 0, precio: 0 };
		factura_01.elementos[0] =
			{ descripcion: "Producto 3", cantidad: 0, precio: 0 };

		factura_01.muestraDatos();


	</script>
</head>
<body>
</body>
</html>